<!-- app/views/movies/index.html.erb -->

<!DOCTYPE html>
<html>
<head>
  <title>Movies</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
  <div class="container mt-3">
    <h1>Movies</h1>

    <%= link_to 'Search for an Actor', actors_search_path, class: 'btn btn-primary' %>

    <table class="table table-striped table-bordered mt-3">
      <thead>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Year</th>
          <th>Director</th>
          <th class="actors-column">Actors</th>
          <th>Countries</th>
          <th>Filming Locations</th>
        </tr>
      </thead>
      <tbody>
        <% @movies.each do |movie| %>
          <tr>
            <td><%= movie.title %></td>
            <td><%= movie.description %></td>
            <td><%= movie.year %></td>
            <td><%= movie.director %></td>
            <td class="actors-column">
              <% movie.actors.each do |actor| %>
                <%= actor.name %><br>
              <% end %>
            </td>
            <td>
              <% movie.countries.each do |country| %>
                <%= country.name %><br>
              <% end %>
            </td>
            <td>
              <% movie.filming_locations.each do |location| %>
                <%= location.name %><br>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</body>
</html>
